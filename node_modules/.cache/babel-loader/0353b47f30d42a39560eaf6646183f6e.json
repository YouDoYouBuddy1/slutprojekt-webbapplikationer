{"remainingRequest":"C:\\Users\\Fabian'\\Documents\\HTML_LAB\\slutprojekt-webbapplikationer\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Fabian'\\Documents\\HTML_LAB\\slutprojekt-webbapplikationer\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Fabian'\\Documents\\HTML_LAB\\slutprojekt-webbapplikationer\\src\\store\\store.js","dependencies":[{"path":"C:\\Users\\Fabian'\\Documents\\HTML_LAB\\slutprojekt-webbapplikationer\\src\\store\\store.js","mtime":1591781024123},{"path":"C:\\Users\\Fabian'\\Documents\\HTML_LAB\\slutprojekt-webbapplikationer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Fabian'\\Documents\\HTML_LAB\\slutprojekt-webbapplikationer\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Fabian'\\Documents\\HTML_LAB\\slutprojekt-webbapplikationer\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvRmFiaWFuJy9Eb2N1bWVudHMvSFRNTF9MQUIvc2x1dHByb2pla3Qtd2ViYmFwcGxpa2F0aW9uZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgQXBpIGZyb20gIkAvYXBpL2FwaS5qcyI7CmltcG9ydCBVc2VyIGZyb20gIkAvYXBpL3VzZXIuanMiOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHVzZXI6IHsKICAgICAgX2lkOiAnJywKICAgICAgZW1haWw6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIG5hbWU6ICcnLAogICAgICByb2xlOiAnYW5vbnltb3VzJywKICAgICAgYWRyZXNzOiB7CiAgICAgICAgc3RyZWV0OiAndGVzdCBzdHJlZXQnLAogICAgICAgIHppcDogJzEyMyA0NScsCiAgICAgICAgY2l0eTogJ3Rlc3QgY2l0eScKICAgICAgfSwKICAgICAgb3JkZXJIaXN0b3J5OiBbewogICAgICAgIF9pZDogMTIzLAogICAgICAgIHRpbWVTdGFtcDogRGF0ZS5ub3coKSwKICAgICAgICBzdGF0dXM6ICdpblByb2dyZXNzJywKICAgICAgICBpdGVtczogW10sCiAgICAgICAgb3JkZXJWYWx1ZTogOTk5CiAgICAgIH1dCiAgICB9LAogICAgdG9rZW46ICIiCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIFNBVkVfVVNFUjogZnVuY3Rpb24gU0FWRV9VU0VSKHN0YXRlLCB1c2VyKSB7CiAgICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgfSwKICAgIFNBVkVfUFJPRFVDVFM6IGZ1bmN0aW9uIFNBVkVfUFJPRFVDVFMoc3RhdGUsIHByb2R1Y3RzKSB7CiAgICAgIHN0YXRlLnByb2R1Y3RzID0gcHJvZHVjdHM7CiAgICB9LAogICAgU0FWRV9UT0tFTjogZnVuY3Rpb24gU0FWRV9UT0tFTihzdGF0ZSwgdG9rZW4pIHsKICAgICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCBsb2dpbkRhdGEpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY29tbWl0LCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIFVzZXIubG9naW4obG9naW5EYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgICAgICAgICAgICBjb21taXQoIlNBVkVfVE9LRU4iLCByZXN1bHQuZGF0YS50b2tlbik7CiAgICAgICAgICAgICAgICBjb21taXQoIlNBVkVfVVNFUiIsIHJlc3VsdC5kYXRhLnVzZXIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgYWxlcnQoIlJlZ2lzdHJhdGlvbiBmYWlsZWQ6ICIgKyBfY29udGV4dC50MC5yZXNwb25zZS5kYXRhLmVycm9ycyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MC5yZXNwb25zZSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDEwXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoX3JlZjIsIHJlZ2lzdHJhdGlvbkZvcm0pIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gVXNlci5yZWdpc3RlcihyZWdpc3RyYXRpb25Gb3JtKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjb21taXQpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgYWxlcnQoIlJlZ2lzdHJhdGlvbiBmYWlsZWQ6ICIgKyBfY29udGV4dDIudDAucmVzcG9uc2UuZGF0YS5lcnJvcnMpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQyLnQwLnJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1sxLCA5XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkUHJvZHVjdHM6IGZ1bmN0aW9uIGxvYWRQcm9kdWN0cyhfcmVmMykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgY29tbWl0LCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBBcGkuZ2V0KCJwcm9kdWN0cyIpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIGNvbW1pdCgiU0FWRV9QUk9EVUNUUyIsIHJlc3VsdC5kYXRhKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQzLnQwLnJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1sxLCA4XV0pOwogICAgICB9KSkoKTsKICAgIH0gLy8gw4RyIG5vbi1zeW5jaHJvbm91cyBva2VqIC0gbsOkciAtIHZhcmbDtnIgPwogICAgLy8gbG9hZFByb2R1Y3RzKHsgY29tbWl0IH0pIHsKICAgIC8vICAgICBBcGkuZ2V0KCJwcm9kdWN0cyIpCiAgICAvLyAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHsKICAgIC8vICAgICAgICAgICAgIGNvbW1pdCgiU0FWRV9QUk9EVUNUUyIsIHJlc3VsdC5kYXRhKTsKICAgIC8vICAgICAgICAgfSkKICAgIC8vICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgLy8gICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBUEkgJHtlcnJvcn1gKTsKICAgIC8vICAgICAgICAgfSk7CiAgICAvLyB9LAoKICB9LAogIG1vZHVsZXM6IHt9Cn0pOw=="},{"version":3,"sources":["C:/Users/Fabian'/Documents/HTML_LAB/slutprojekt-webbapplikationer/src/store/store.js"],"names":["Vue","Vuex","Api","User","use","Store","state","user","_id","email","password","name","role","adress","street","zip","city","orderHistory","timeStamp","Date","now","status","items","orderValue","token","mutations","SAVE_USER","SAVE_PRODUCTS","products","SAVE_TOKEN","actions","login","loginData","commit","result","console","log","data","alert","response","errors","register","registrationForm","loadProducts","get","modules"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport Api from \"@/api/api.js\";\r\nimport User from \"@/api/user.js\";\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    user: {_id: '', email: '', password: '', name: '', role: 'anonymous',\r\n    adress: {street: 'test street', zip: '123 45', city: 'test city'}, \r\n    orderHistory: [{_id: 123, timeStamp: Date.now(), status: 'inProgress', items:[], orderValue: 999}]},\r\n\r\n    token: \"\"\r\n  },\r\n  mutations: {\r\n    SAVE_USER(state, user) {\r\n        state.user = user;\r\n    },\r\n    SAVE_PRODUCTS(state, products) {\r\n        state.products = products;\r\n    },\r\n    SAVE_TOKEN(state, token) {\r\n        state.token = token;\r\n    }\r\n  },\r\n  actions: {\r\n\r\n    async login({ commit }, loginData) {\r\n        try {\r\n            let result = await User.login(loginData);\r\n            console.log(result)\r\n            commit(\"SAVE_TOKEN\", result.data.token);\r\n            commit(\"SAVE_USER\", result.data.user);\r\n        } catch (error) {\r\n            alert(\"Registration failed: \" + error.response.data.errors);\r\n            console.log(error.response);\r\n        }\r\n    },\r\n    async register({ commit }, registrationForm) {\r\n      try {\r\n          let result = await User.register(registrationForm);\r\n          console.log(commit)\r\n          console.log(result)\r\n      } catch (error) {\r\n          alert(\"Registration failed: \" + error.response.data.errors);\r\n          console.log(error.response);\r\n      }\r\n  },\r\n    async loadProducts({ commit }) {\r\n        try { let result = await Api.get(\"products\")\r\n           commit(\"SAVE_PRODUCTS\", result.data);\r\n            }\r\n            catch(error){\r\n                console.log(error.response);\r\n            }\r\n    },\r\n\r\n    // Är non-synchronous okej - när - varför ?\r\n    // loadProducts({ commit }) {\r\n    //     Api.get(\"products\")\r\n    //         .then((result) => {\r\n    //             commit(\"SAVE_PRODUCTS\", result.data);\r\n    //         })\r\n    //         .catch((error) => {\r\n    //             throw new Error(`API ${error}`);\r\n    //         });\r\n    // },\r\n  },\r\n  modules: {\r\n  }\r\n})\r\n"]}]}