{"remainingRequest":"C:\\Users\\nilss\\Documents\\Webbapplikationer\\VSCode\\Slut Projekt VUE\\slutprojekt-webbapplikationer\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\nilss\\Documents\\Webbapplikationer\\VSCode\\Slut Projekt VUE\\slutprojekt-webbapplikationer\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\nilss\\Documents\\Webbapplikationer\\VSCode\\Slut Projekt VUE\\slutprojekt-webbapplikationer\\src\\store\\store.js","dependencies":[{"path":"C:\\Users\\nilss\\Documents\\Webbapplikationer\\VSCode\\Slut Projekt VUE\\slutprojekt-webbapplikationer\\src\\store\\store.js","mtime":1591451141801},{"path":"C:\\Users\\nilss\\Documents\\Webbapplikationer\\VSCode\\Slut Projekt VUE\\slutprojekt-webbapplikationer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591176719168},{"path":"C:\\Users\\nilss\\Documents\\Webbapplikationer\\VSCode\\Slut Projekt VUE\\slutprojekt-webbapplikationer\\node_modules\\babel-loader\\lib\\index.js","mtime":1591176718559},{"path":"C:\\Users\\nilss\\Documents\\Webbapplikationer\\VSCode\\Slut Projekt VUE\\slutprojekt-webbapplikationer\\node_modules\\eslint-loader\\index.js","mtime":1591176725507}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvbmlsc3MvRG9jdW1lbnRzL1dlYmJhcHBsaWthdGlvbmVyL1ZTQ29kZS9TbHV0IFByb2pla3QgVlVFL3NsdXRwcm9qZWt0LXdlYmJhcHBsaWthdGlvbmVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgVnVleCBmcm9tICJ2dWV4IjsKaW1wb3J0IEFwaSBmcm9tICJAL2FwaS9hcGkuanMiOwppbXBvcnQgVXNlciBmcm9tICJAL2FwaS91c2VyLmpzIjsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICBwcm9kdWN0czogW10sCiAgICB1c2VyOiBbXSwKICAgIHRva2VuOiAiIgogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBTQVZFX1VTRVI6IGZ1bmN0aW9uIFNBVkVfVVNFUihzdGF0ZSwgdXNlcikgewogICAgICBzdGF0ZS51c2VyID0gdXNlcjsKICAgIH0sCiAgICBTQVZFX1BST0RVQ1RTOiBmdW5jdGlvbiBTQVZFX1BST0RVQ1RTKHN0YXRlLCBwcm9kdWN0cykgewogICAgICBzdGF0ZS5wcm9kdWN0cyA9IHByb2R1Y3RzOwogICAgfSwKICAgIFNBVkVfVE9LRU46IGZ1bmN0aW9uIFNBVkVfVE9LRU4oc3RhdGUsIHRva2VuKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgbG9naW5EYXRhKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21taXQsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gVXNlci5sb2dpbihsb2dpbkRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTsgLy8gbGV0IHRva2VuID0gcmVzdWx0LmRhdGEudG9rZW47CiAgICAgICAgICAgICAgICAvLyBsZXQgdXNlciA9IHJlc3VsdC5kYXRhLnVzZXI7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0b2tlbik7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh1c2VyKTsKCiAgICAgICAgICAgICAgICBjb21taXQoIlNBVkVfVE9LRU4iLCByZXN1bHQuZGF0YS50b2tlbik7CiAgICAgICAgICAgICAgICBjb21taXQoIlNBVkVfVVNFUiIsIHJlc3VsdC5kYXRhLnVzZXIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgYWxlcnQoIlJlZ2lzdHJhdGlvbiBmYWlsZWQ6ICIgKyBfY29udGV4dC50MC5yZXNwb25zZS5kYXRhLmVycm9ycyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MC5yZXNwb25zZSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5zdGF0ZS51c2VyKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMTBdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRQcm9kdWN0czogZnVuY3Rpb24gbG9hZFByb2R1Y3RzKF9yZWYyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgIEFwaS5nZXQoInByb2R1Y3RzIikudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgY29tbWl0KCJTQVZFX1BST0RVQ1RTIiwgcmVzdWx0LmRhdGEpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkFQSSAiLmNvbmNhdChlcnJvcikpOwogICAgICB9KTsKICAgIH0gLy8gS2FuIG1hbiBnw7ZyYSBzw6UgaMOkcj8KICAgIC8vIG3DpXN0ZSBhbnJvcGV0IHZhcmEgYXN5bmNoPwogICAgLy8gbG9naW4oY29tbWl0LCBsb2dvbikgewogICAgLy8gICAgIGxldCByZXN1bHQgPSBVc2VyLmxvZ2luKGxvZ29uKQogICAgLy8gfQogICAgLy8gZMOkciBsb2dpbiB1IHVzZXIuanMgw6RyIGFzeW5jaCBpc3TDpGxsZXQ/CgogIH0sCiAgZ2V0dGVyczoge30sCiAgbW9kdWxlczoge30KfSk7"},{"version":3,"sources":["C:/Users/nilss/Documents/Webbapplikationer/VSCode/Slut Projekt VUE/slutprojekt-webbapplikationer/src/store/store.js"],"names":["Vue","Vuex","Api","User","use","Store","state","products","user","token","mutations","SAVE_USER","SAVE_PRODUCTS","SAVE_TOKEN","actions","login","loginData","commit","result","console","log","data","alert","response","errors","loadProducts","get","then","catch","error","Error","getters","modules"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,IAAP,MAAiB,eAAjB;AAEAH,GAAG,CAACI,GAAJ,CAAQH,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACI,KAAT,CAAe;AAC1BC,EAAAA,KAAK,EAAE;AACHC,IAAAA,QAAQ,EAAE,EADP;AAEHC,IAAAA,IAAI,EAAE,EAFH;AAGHC,IAAAA,KAAK,EAAE;AAHJ,GADmB;AAM1BC,EAAAA,SAAS,EAAE;AACPC,IAAAA,SADO,qBACGL,KADH,EACUE,IADV,EACgB;AACnBF,MAAAA,KAAK,CAACE,IAAN,GAAaA,IAAb;AACH,KAHM;AAIPI,IAAAA,aAJO,yBAION,KAJP,EAIcC,QAJd,EAIwB;AAC3BD,MAAAA,KAAK,CAACC,QAAN,GAAiBA,QAAjB;AACH,KANM;AAOPM,IAAAA,UAPO,sBAOIP,KAPJ,EAOWG,KAPX,EAOkB;AACrBH,MAAAA,KAAK,CAACG,KAAN,GAAcA,KAAd;AACH;AATM,GANe;AAiB1BK,EAAAA,OAAO,EAAE;AAECC,IAAAA,KAFD,uBAEmBC,SAFnB,EAE8B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAArBC,gBAAAA,MAAqB,QAArBA,MAAqB;AAAA;AAAA;AAAA,uBAERd,IAAI,CAACY,KAAL,CAAWC,SAAX,CAFQ;;AAAA;AAEvBE,gBAAAA,MAFuB;AAG3BC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ,EAH2B,CAI3B;AACA;AACA;AACA;;AACAD,gBAAAA,MAAM,CAAC,YAAD,EAAeC,MAAM,CAACG,IAAP,CAAYZ,KAA3B,CAAN;AACAQ,gBAAAA,MAAM,CAAC,WAAD,EAAcC,MAAM,CAACG,IAAP,CAAYb,IAA1B,CAAN;AAT2B;AAAA;;AAAA;AAAA;AAAA;AAW3Bc,gBAAAA,KAAK,CAAC,0BAA0B,YAAMC,QAAN,CAAeF,IAAf,CAAoBG,MAA/C,CAAL;AACAL,gBAAAA,OAAO,CAACC,GAAR,CAAY,YAAMG,QAAlB;;AAZ2B;AAe/BJ,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAI,CAACd,KAAL,CAAWE,IAAvB;;AAf+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBlC,KAnBI;AAoBLiB,IAAAA,YApBK,+BAoBoB;AAAA,UAAVR,MAAU,SAAVA,MAAU;AACrBf,MAAAA,GAAG,CAACwB,GAAJ,CAAQ,UAAR,EACKC,IADL,CACU,UAACT,MAAD,EAAY;AACdD,QAAAA,MAAM,CAAC,eAAD,EAAkBC,MAAM,CAACG,IAAzB,CAAN;AACH,OAHL,EAIKO,KAJL,CAIW,UAACC,KAAD,EAAW;AACd,cAAM,IAAIC,KAAJ,eAAiBD,KAAjB,EAAN;AACH,OANL;AAOH,KA5BI,CA6BL;AACA;AACA;AACA;AACA;AACA;;AAlCK,GAjBiB;AAqD1BE,EAAAA,OAAO,EAAE,EArDiB;AAsD1BC,EAAAA,OAAO,EAAE;AAtDiB,CAAf,CAAf","sourcesContent":["import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\nimport Api from \"@/api/api.js\";\r\nimport User from \"@/api/user.js\";\r\n\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n    state: {\r\n        products: [],\r\n        user: [],\r\n        token: \"\"\r\n    },\r\n    mutations: {\r\n        SAVE_USER(state, user) {\r\n            state.user = user;\r\n        },\r\n        SAVE_PRODUCTS(state, products) {\r\n            state.products = products;\r\n        },\r\n        SAVE_TOKEN(state, token) {\r\n            state.token = token;\r\n        }\r\n    },\r\n    actions: {\r\n\r\n        async login({ commit }, loginData) {\r\n            try {\r\n                let result = await User.login(loginData);\r\n                console.log(result);\r\n                // let token = result.data.token;\r\n                // let user = result.data.user;\r\n                // console.log(token);\r\n                // console.log(user);\r\n                commit(\"SAVE_TOKEN\", result.data.token);\r\n                commit(\"SAVE_USER\", result.data.user);\r\n            } catch (error) {\r\n                alert(\"Registration failed: \" + error.response.data.errors);\r\n                console.log(error.response);\r\n            }\r\n\r\n            console.log(this.state.user);\r\n\r\n        },\r\n        loadProducts({ commit }) {\r\n            Api.get(\"products\")\r\n                .then((result) => {\r\n                    commit(\"SAVE_PRODUCTS\", result.data);\r\n                })\r\n                .catch((error) => {\r\n                    throw new Error(`API ${error}`);\r\n                });\r\n        },\r\n        // Kan man göra så här?\r\n        // måste anropet vara asynch?\r\n        // login(commit, logon) {\r\n        //     let result = User.login(logon)\r\n        // }\r\n        // där login u user.js är asynch istället?\r\n    },\r\n    getters: {},\r\n    modules: {},\r\n});\r\n"]}]}