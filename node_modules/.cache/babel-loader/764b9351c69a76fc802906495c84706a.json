{"remainingRequest":"/Users/garrido/iths/repos/project_repo/slutprojekt-webbapplikationer/node_modules/babel-loader/lib/index.js!/Users/garrido/iths/repos/project_repo/slutprojekt-webbapplikationer/node_modules/eslint-loader/index.js??ref--13-0!/Users/garrido/iths/repos/project_repo/slutprojekt-webbapplikationer/src/store/store.js","dependencies":[{"path":"/Users/garrido/iths/repos/project_repo/slutprojekt-webbapplikationer/src/store/store.js","mtime":1591694973000},{"path":"/Users/garrido/iths/repos/project_repo/slutprojekt-webbapplikationer/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/garrido/iths/repos/project_repo/slutprojekt-webbapplikationer/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/garrido/iths/repos/project_repo/slutprojekt-webbapplikationer/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2dhcnJpZG8vaXRocy9yZXBvcy9wcm9qZWN0X3JlcG8vc2x1dHByb2pla3Qtd2ViYmFwcGxpa2F0aW9uZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmltcG9ydCBWdWV4IGZyb20gInZ1ZXgiOwppbXBvcnQgQXBpIGZyb20gIkAvYXBpL2FwaS5qcyI7CmltcG9ydCBVc2VyIGZyb20gIkAvYXBpL3VzZXIuanMiOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHByb2R1Y3RzOiBbXSwKICAgIHVzZXI6IFtdLAogICAgdG9rZW46ICIiCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIFNBVkVfVVNFUjogZnVuY3Rpb24gU0FWRV9VU0VSKHN0YXRlLCB1c2VyKSB7CiAgICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgfSwKICAgIFNBVkVfUFJPRFVDVFM6IGZ1bmN0aW9uIFNBVkVfUFJPRFVDVFMoc3RhdGUsIHByb2R1Y3RzKSB7CiAgICAgIHN0YXRlLnByb2R1Y3RzID0gcHJvZHVjdHM7CiAgICB9LAogICAgU0FWRV9UT0tFTjogZnVuY3Rpb24gU0FWRV9UT0tFTihzdGF0ZSwgdG9rZW4pIHsKICAgICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCBsb2dpbkRhdGEpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY29tbWl0LCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIFVzZXIubG9naW4obG9naW5EYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbW1pdCgiU0FWRV9UT0tFTiIsIHJlc3VsdC5kYXRhLnRva2VuKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5kYXRhLnRva2VuKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgiU0FWRV9VU0VSIiwgcmVzdWx0LmRhdGEudXNlcik7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBhbGVydCgiUmVnaXN0cmF0aW9uIGZhaWxlZDogIiArIF9jb250ZXh0LnQwLnJlc3BvbnNlLmRhdGEuZXJyb3JzKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwLnJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMTBdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRQcm9kdWN0czogZnVuY3Rpb24gbG9hZFByb2R1Y3RzKF9yZWYyKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBjb21taXQsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIEFwaS5nZXQoInByb2R1Y3RzIik7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgY29tbWl0KCJTQVZFX1BST0RVQ1RTIiwgcmVzdWx0LmRhdGEpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDg7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDIudDAucmVzcG9uc2UpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzEsIDhdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgZ2V0dGVyczoge30sCiAgbW9kdWxlczoge30KfSk7"},{"version":3,"sources":["/Users/garrido/iths/repos/project_repo/slutprojekt-webbapplikationer/src/store/store.js"],"names":["Vue","Vuex","Api","User","use","Store","state","products","user","token","mutations","SAVE_USER","SAVE_PRODUCTS","SAVE_TOKEN","actions","login","loginData","commit","result","data","console","log","alert","response","errors","loadProducts","get","getters","modules"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,IAAP,MAAiB,eAAjB;AAEAH,GAAG,CAACI,GAAJ,CAAQH,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACI,KAAT,CAAe;AAE1BC,EAAAA,KAAK,EAAE;AACHC,IAAAA,QAAQ,EAAE,EADP;AAEHC,IAAAA,IAAI,EAAE,EAFH;AAGHC,IAAAA,KAAK,EAAE;AAHJ,GAFmB;AAO1BC,EAAAA,SAAS,EAAE;AACPC,IAAAA,SADO,qBACGL,KADH,EACUE,IADV,EACgB;AACnBF,MAAAA,KAAK,CAACE,IAAN,GAAaA,IAAb;AACH,KAHM;AAMPI,IAAAA,aANO,yBAMON,KANP,EAMcC,QANd,EAMwB;AAC3BD,MAAAA,KAAK,CAACC,QAAN,GAAiBA,QAAjB;AACH,KARM;AAWPM,IAAAA,UAXO,sBAWIP,KAXJ,EAWWG,KAXX,EAWkB;AACrBH,MAAAA,KAAK,CAACG,KAAN,GAAcA,KAAd;AACH;AAbM,GAPe;AAuB1BK,EAAAA,OAAO,EAAE;AAECC,IAAAA,KAFD,uBAEmBC,SAFnB,EAE8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAArBC,gBAAAA,MAAqB,QAArBA,MAAqB;AAAA;AAAA;AAAA,uBAGRd,IAAI,CAACY,KAAL,CAAWC,SAAX,CAHQ;;AAAA;AAGvBE,gBAAAA,MAHuB;AAI3BD,gBAAAA,MAAM,CAAC,YAAD,EAAeC,MAAM,CAACC,IAAP,CAAYV,KAA3B,CAAN;AACAW,gBAAAA,OAAO,CAACC,GAAR,CAAYH,MAAM,CAACC,IAAP,CAAYV,KAAxB;AACAQ,gBAAAA,MAAM,CAAC,WAAD,EAAcC,MAAM,CAACC,IAAP,CAAYX,IAA1B,CAAN;AAN2B;AAAA;;AAAA;AAAA;AAAA;AAS3Bc,gBAAAA,KAAK,CAAC,0BAA0B,YAAMC,QAAN,CAAeJ,IAAf,CAAoBK,MAA/C,CAAL;AACAJ,gBAAAA,OAAO,CAACC,GAAR,CAAY,YAAME,QAAlB;;AAV2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYlC,KAdI;AAeCE,IAAAA,YAfD,+BAe0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAVR,gBAAAA,MAAU,SAAVA,MAAU;AAAA;AAAA;AAAA,uBAEJf,GAAG,CAACwB,GAAJ,CAAQ,UAAR,CAFI;;AAAA;AAEnBR,gBAAAA,MAFmB;AAGvBD,gBAAAA,MAAM,CAAC,eAAD,EAAkBC,MAAM,CAACC,IAAzB,CAAN;AAHuB;AAAA;;AAAA;AAAA;AAAA;AAMvBC,gBAAAA,OAAO,CAACC,GAAR,CAAY,aAAME,QAAlB;;AANuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQ9B;AAvBI,GAvBiB;AAiD1BI,EAAAA,OAAO,EAAE,EAjDiB;AAmD1BC,EAAAA,OAAO,EAAE;AAnDiB,CAAf,CAAf","sourcesContent":["import Vue from \"vue\"\nimport Vuex from \"vuex\"\nimport Api from \"@/api/api.js\"\nimport User from \"@/api/user.js\"\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n\n    state: {\n        products: [],\n        user: [],\n        token: \"\"\n    },\n    mutations: {\n        SAVE_USER(state, user) {\n            state.user = user;\n        },\n\n\n        SAVE_PRODUCTS(state, products) {\n            state.products = products;\n        },\n\n        \n        SAVE_TOKEN(state, token) {\n            state.token = token;\n        }\n    },\n\n    actions: {\n\n        async login({ commit }, loginData) {\n            try {\n\n                let result = await User.login(loginData);\n                commit(\"SAVE_TOKEN\", result.data.token);\n                console.log(result.data.token);\n                commit(\"SAVE_USER\", result.data.user);\n\n            } catch (error) {\n                alert(\"Registration failed: \" + error.response.data.errors);\n                console.log(error.response);\n            }\n        },\n        async loadProducts({ commit }) {\n            try {\n                let result = await Api.get(\"products\")\n                commit(\"SAVE_PRODUCTS\", result.data);\n            }\n            catch (error) {\n                console.log(error.response);\n            }\n        },\n\n    },\n    getters: {},\n\n    modules: {},\n});\n"]}]}